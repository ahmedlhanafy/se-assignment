<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title></title><style>*{box-sizing:border-box}.cxs-display-table{display:table}.cxs-2947628758 h4{font-weight:600;line-height:1.25;font-size:16px;margin-top:32px;margin-bottom:8px}.cxs-424651569{font-size:20px}.cxs-183745076 a:hover{text-decoration:underline}.cxs-4066908388{clear:both}.cxs-2262331773{font-size:20px}.cxs-1246195080{margin-left:-8px;margin-right:-8px}.cxs-3057891252{font-size:14px}.cxs-3057891252 h1{font-size:inherit;margin-top:32px}.cxs-3057891252 h1:before{content:"# ";color:#888}.cxs-3057891252 h2{font-size:inherit;margin-top:32px}.cxs-3057891252 h2:before{content:"## ";color:#888}.cxs-3057891252 h3{font-size:inherit}.cxs-3057891252 h3:before{content:"### ";color:#888}.cxs-3057891252 h4{font-size:16px}.cxs-3057891252 h5{font-size:14px}.cxs-3057891252 h6{font-size:12px}.cxs-3057891252 p{overflow-x:auto}.cxs-3057891252 code{font-family:inherit;font-size:inherit;overflow-x:auto;color:#666}.cxs-3057891252 code:before{content:"`"}.cxs-3057891252 code:after{content:"`"}.cxs-3057891252 pre{font-family:inherit;font-size:inherit;overflow-x:auto;color:#666}.cxs-3057891252 pre:before{content:"```";display:block}.cxs-3057891252 pre:after{content:"```";display:block}.cxs-3057891252 pre .hljs-keyword{color:#666}.cxs-3057891252 pre .hljs-built_in{color:#888}.cxs-3057891252 pre .hljs-type{color:#888}.cxs-3057891252 pre .hljs-literal{color:#666}.cxs-3057891252 pre .hljs-number{color:#1f80ff}.cxs-3057891252 pre .hljs-regexp{color:#666}.cxs-3057891252 pre .hljs-string{color:#888}.cxs-3057891252 pre .hljs-subst{color:#888}.cxs-3057891252 pre .hljs-symbol{color:#666}.cxs-3057891252 pre .hljs-class{color:#666}.cxs-3057891252 pre .hljs-function{color:#1f80ff}.cxs-3057891252 pre .hljs-title{color:#666}.cxs-3057891252 pre .hljs-params{color:#888}.cxs-3057891252 pre .hljs-comment{color:#888}.cxs-3057891252 pre .hljs-doctag{color:#888}.cxs-3057891252 pre .hljs-meta{color:#888}.cxs-3057891252 pre .hljs-meta-keyword{color:#666}.cxs-3057891252 pre .hljs-meta-string{color:#666}.cxs-3057891252 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px}.cxs-3057891252 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-3057891252 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-3057891252 td{vertical-align:top;line-height:inherit}.cxs-3057891252 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-3057891252 a{color:inherit}.cxs-3057891252 ul{list-style-type:none;padding-left:0px}.cxs-3057891252 li{}.cxs-3057891252 li:before{content:"- "}.cxs-3057891252 b{}.cxs-3057891252 b:before{content:"*"}.cxs-3057891252 b:after{content:"*"}.cxs-3057891252 pre code{}.cxs-3057891252 pre code:before{content:none}.cxs-3057891252 pre code:after{content:none}.cxs-799160745{font-size:48px}.cxs-183745076 a{color:#2196f3;text-decoration: none}.cxs-3954183383{font-size:24px}.cxs-183745076 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-3147789143{margin-left:-16px;margin-right:-16px}.cxs-3377994344{}.cxs-3377994344:hover{box-shadow:inset 0 0 0 999px rgba(0, 0, 0, .125)}.cxs-2947628758{}.cxs-2947628758 h1{font-weight:600;line-height:1.25;font-size:48px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h2{font-weight:600;line-height:1.25;font-size:24px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h3{font-weight:600;line-height:1.25;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-183745076 td{vertical-align:top;line-height:inherit}.cxs-2947628758 h5{font-weight:600;line-height:1.25;font-size:14px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h6{font-weight:600;line-height:1.25;font-size:12px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 p{overflow-x:auto;margin-top:0px;margin-bottom:16px}.cxs-2947628758 code{font-family:Menlo, monospace;font-size:14px;padding:4px;background-color:#eee;border-radius:2px}.cxs-2947628758 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding:16px;margin-top:8px;margin-bottom:32px;background-color:#eee;border-radius:2px}.cxs-2947628758 pre .hljs-keyword{color:#08e}.cxs-2947628758 pre .hljs-built_in{color:#059}.cxs-2947628758 pre .hljs-type{color:#059}.cxs-2947628758 pre .hljs-literal{color:#08e}.cxs-2947628758 pre .hljs-number{color:#e08}.cxs-2947628758 pre .hljs-regexp{color:#08e}.cxs-2947628758 pre .hljs-string{color:#059}.cxs-2947628758 pre .hljs-subst{color:#059}.cxs-2947628758 pre .hljs-symbol{color:#08e}.cxs-2947628758 pre .hljs-class{color:#08e}.cxs-2947628758 pre .hljs-function{color:#e08}.cxs-2947628758 pre .hljs-title{color:#08e}.cxs-2947628758 pre .hljs-params{color:#059}.cxs-2947628758 pre .hljs-comment{color:#059}.cxs-2947628758 pre .hljs-doctag{color:#059}.cxs-2947628758 pre .hljs-meta{color:#059}.cxs-2947628758 pre .hljs-meta-keyword{color:#08e}.cxs-2947628758 pre .hljs-meta-string{color:#08e}.cxs-2947628758 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px;border-bottom:2px solid #ddd}.cxs-2947628758 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-2947628758 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-2947628758 td{vertical-align:top;line-height:inherit}.cxs-2947628758 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-2947628758 a{color:#08e;text-decoration: none}.cxs-2947628758 a:hover{text-decoration:underline}.cxs-2947628758 ul{padding-left:32px;margin-top:0px;margin-bottom:16px}.cxs-183745076{}.cxs-183745076 h1{font-weight:500;letter-spacing:-0.01em;font-size:48px;margin-top:32px;margin-bottom:8px}.cxs-183745076 h2{font-weight:500;letter-spacing:-0.01em;font-size:24px;margin-top:32px;margin-bottom:8px}.cxs-183745076 h3{font-weight:500;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-183745076 h4{font-weight:500;letter-spacing:-0.01em;font-size:16px;margin-top:32px;margin-bottom:8px}.cxs-183745076 h5{font-weight:500;letter-spacing:-0.01em;font-size:14px;margin-top:32px;margin-bottom:8px}.cxs-183745076 h6{font-weight:500;letter-spacing:-0.01em;font-size:12px;margin-top:32px;margin-bottom:8px}.cxs-183745076 p{overflow-x:auto;margin-top:0px;margin-bottom:16px}.cxs-183745076 code{font-family:Menlo, monospace;font-size:14px;padding:4px;background-color:#f5f5f5;border-radius:2px}.cxs-183745076 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding:16px;margin-top:8px;margin-bottom:32px;background-color:#f5f5f5;border-radius:2px}.cxs-183745076 pre .hljs-keyword{color:#2196f3}.cxs-183745076 pre .hljs-built_in{color:#1565c0}.cxs-183745076 pre .hljs-type{color:#1565c0}.cxs-183745076 pre .hljs-literal{color:#2196f3}.cxs-183745076 pre .hljs-number{color:#ff4081}.cxs-183745076 pre .hljs-regexp{color:#2196f3}.cxs-183745076 pre .hljs-string{color:#1565c0}.cxs-183745076 pre .hljs-subst{color:#1565c0}.cxs-183745076 pre .hljs-symbol{color:#2196f3}.cxs-183745076 pre .hljs-class{color:#2196f3}.cxs-183745076 pre .hljs-function{color:#ff4081}.cxs-183745076 pre .hljs-title{color:#2196f3}.cxs-183745076 pre .hljs-params{color:#1565c0}.cxs-183745076 pre .hljs-comment{color:#1565c0}.cxs-183745076 pre .hljs-doctag{color:#1565c0}.cxs-183745076 pre .hljs-meta{color:#1565c0}.cxs-183745076 pre .hljs-meta-keyword{color:#2196f3}.cxs-183745076 pre .hljs-meta-string{color:#2196f3}.cxs-183745076 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px;border-bottom:2px solid #e0e0e0}.cxs-183745076 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-183745076 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-183745076 ul{padding-left:32px;margin-top:0px;margin-bottom:16px}@media screen and (min-width: 52em) { .cxs-2262331773{font-size:32px} }@media screen and (min-width: 52em) { .cxs-3954183383{} }@media screen and (min-width: 52em) { .cxs-799160745{font-size:72px} }@media screen and (min-width: 52em) { .cxs-424651569{} }</style><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,,500"/></head><body style="margin:0;"><div class="Xv" style="font-family:Roboto, sans-serif;font-weight:400;line-height:1.5;color:#212121;background-color:#fff;"><nav style="position:relative;margin-bottom:-48px;display:flex;align-items:center;padding-left:16px;padding-right:16px;color:#fff;"><a href="https://github.com/ahmedlhanafy/se-assignment" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;margin-right:8px;">GitHub</a></nav><header class="BannerHeader" style="display:flex;align-items:center;justify-content:center;text-align:center;min-height:80vh;color:white;background-color:#212121;background-image:linear-gradient(45deg, #2196f3, #ff4081);background-size:cover;background-position:center;"><div style="box-sizing:border-box;width:100%;max-width:896px;margin-left:auto;margin-right:auto;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;"><h1 class="cxs-799160745" style="box-sizing:border-box;font-weight:500;letter-spacing:-0.01em;margin:0;">se-assignment</h1><div class="cxs-1246195080" style="box-sizing:border-box;padding-top:16px;padding-bottom:16px;"><iframe src="https://platform.twitter.com/widgets/tweet_button.html?text=se-assignment%3A%20&amp;url=&amp;via=&amp;hashtags=&amp;size=" height="20" allowtransparency="true" frameborder="0" scrolling="no" style="box-sizing:border-box;width:61px;overflow:hidden;margin:8px;"></iframe><iframe src="https://ghbtns.com/github-btn.html?type=star&amp;count=true&amp;user=ahmedlhanafy&amp;repo=se-assignment&amp;size=" height="20" frameborder="0" scrolling="no" style="box-sizing:border-box;width:100px;overflow:hidden;margin:8px;"></iframe><div class="cxs-4066908388 cxs-display-table"></div></div></div></header><div class="cxs-183745076" style="box-sizing:border-box;max-width:896px;margin-left:auto;margin-right:auto;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;"><article style="box-sizing:border-box;"><div><h1>Assignment 1</h1>
<h2>Objective</h2>
<p>Demonstrate your mastery of:</p>
<ul>
<li>running nodejs</li>
<li>setting up a mongodb database</li>
<li>using express</li>
<li>connecting to the database</li>
<li>responding with a file</li>
<li>responding with JSON</li>
<li>node module syntax (require/export) using the module design pattern</li>
<li>npm</li>
<li>testing your code<ul>
<li>unit</li>
<li>end to end</li>
</ul>
</li>
<li>some html</li>
<li>some css</li>
<li>jquery or just javacript in the browser</li>
<li>ajax</li>
</ul>
<h2>Requires</h2>
<ul>
<li>Internet</li>
<li>Google chrome</li>
<li>A plain text editor (preferably sublime)</li>
<li>mongodb</li>
<li>nodejs</li>
<li>git</li>
<li>A github account</li>
</ul>
<h2>Motivation</h2>
<p>We feel SE students will go through harsh trials in the near future, accordingly we thought of having you build an inspirational quote app. May it lift your spirit in your time of need.</p>
<h2>Task</h2>
<p>You are to <strong>fork</strong> this repository and submit a pull request when you are done</p>
<p>Your job is to create a simple test driven inspirational quotes application that will show you a new inspirational quote every-time you click on the page as well as the author of the quote in the bottom right, the quote should be loaded using ajax.</p>
<p>The application should inform the user somehow on how he can use it, in my case I made it so that the first time the app starts it says on the screen that you should click/tap</p>
<p><strong>A demo that will only work in chrome and basically just looks like what we want you to do can be found <a href="http://amrdraz.github.io/inspire-me/">here</a></strong></p>
<blockquote>
<p>If you want to have fun you can modify the data we give you and create your own set of quotes - for example make it an Arabic movie quotes app.</p>
</blockquote>
<h3>UI</h3>
<p><img src="assets/inspire-me-start.png" /></p>
<p><img src="assets/inspiration.png" /></p>
<h3>File structure</h3>
<p>After you  <strong>fork</strong> the assignment repo, add your own folder with your id.</p>
<p>You should minimally windup with the following structure.</p>
<pre>|<span class="hljs-string">- 16-5240/
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">- public/
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- js/
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- jquery.min.js  &lt;------ you can optionally not use this.
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- main.js        &lt;------ your javascript file
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">  
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- css/
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- style.css
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">  
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- index.html 
</span>|<span class="hljs-string">  </span>|
|<span class="hljs-string">  </span>|<span class="hljs-string">- test/
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">  </span>|<span class="hljs-string">- quote.js          &lt;------ see how kind we are bellow
</span>|<span class="hljs-string">  </span>|
|<span class="hljs-string">  </span>|<span class="hljs-string">- app.js
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">- server.js
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">- quotes.js
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">- db.js                &lt;------ this is partially provided, love us
</span>|<span class="hljs-string">  </span>|<span class="hljs-string">- package.json
</span>|<span class="hljs-string">  
</span>|<span class="hljs-string">- quotes.json
</span>|<span class="hljs-string">- .gitignore
</span>|<span class="hljs-string">- README.md</span></pre><p>You will find in this repo the <code>.gitignore</code> and <code>quotes.json</code> files everything else you have to create yourself.</p>
<ul>
<li><code>public/js/</code> Should contain your javascript files.</li>
<li><code>public/css/</code> Should contain your css files.</li>
<li><code>public/index.html</code> Should contain the html</li>
<li><code>app.js</code> contains code that handles the routes and exports the express app.</li>
<li><code>server.js</code> contains code that runs the app.</li>
<li><code>/quotes.js</code> should contain the functionality related to quotes</li>
<li><code>test/quotes.js</code> should contain the tests that make sure all functionality in the quotes.js file work.</li>
<li><code>db.js</code> In my example this is a file that hold functions for connecting and accessing the database.</li>
<li><code>package.json</code> should contain all your dependencies in addition to your npm scripts; start, test, and coverage.<ul>
<li>the start script runs the database.</li>
<li>the test script runs the mocha tests.</li>
<li>the coverage script runs istanbul.</li>
</ul>
</li>
</ul>
<h3>Features</h3>
<ul>
<li>The app must serve the data from a mongodb database.</li>
<li>The app should implement a simple GET API for getting quotes.</li>
<li>quotes.js should impliment the functions bellow</li>
</ul>
<h4>quotes.js</h4>
<p>Export the following functions</p>
<h5><code>getElementByIndexElseRandom(array [, index])</code></h5>
<ul>
<li>Given an array returns:<ul>
<li>A random element from the array If index is not passed.</li>
<li>The element in the correct index position if it is.</li>
</ul>
</li>
</ul>
<pre>getElementByIndexElseRandom([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])    <span class="hljs-comment">// any of 1 3 or 4</span>
getElementByIndexElseRandom([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], <span class="hljs-number">0</span>) <span class="hljs-comment">// always 1</span></pre><h5><code>getQuotesFromJSON()</code></h5>
<ul>
<li>returns all the quotes as JSON</li>
</ul>
<pre>getQuotesFromJSON() <span class="hljs-comment">// basically returns the whole object.</span></pre><h5><code>getQuoteFromJSON(index)</code></h5>
<ul>
<li>returns a random quote from the quotes.json file if index is not passed else the on int the index position.</li>
</ul>
<pre>getQuoteFromJSON()           <span class="hljs-comment">// any of quote object in the quotes.json file</span>
getQuoteFromJSON(<span class="hljs-number">0</span>).author   <span class="hljs-comment">// Kevin Kruse</span></pre><h5><code>seed(cb)</code></h5>
<p>Populate the database with quotes from quotes.json, seed should call the call back when done with an <code>error, seeded</code> set of arguments.</p>
<p>seeded is a boolean value that is true if the database was empty (and thus seeded) or no error occurred but the database already contains records.</p>
<pre>seed(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, seeded</span>) </span>{
    <span class="hljs-comment">// seeded is true when quotes are added to the database</span>
    <span class="hljs-comment">// seeded is false when nothing is added to the db</span>
})</pre><h5><code>getQuotesFromDB(cb)</code></h5>
<ul>
<li>Will call the callback function passed <strong>cb</strong> with arguments <code>error, quotes</code><ul>
<li>error will be null if no error occurred</li>
<li>quotes is a list of all quotes</li>
</ul>
</li>
</ul>
<pre>getQuotesFromDB(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, quotes</span>) </span>{
    <span class="hljs-comment">// any of quote object in the database  </span>
})</pre><h5><code>getQuoteFromDB(cb [, index])</code></h5>
<ul>
<li>Will call the callback function passed <strong>cb</strong> with arguments <code>error, quote</code><ul>
<li>error will be null if no error occurred</li>
<li>quote should contain a random quote document returned from the database</li>
</ul>
</li>
<li>Optional argument index if present will select a specific quote by index from the quotes documents returned.</li>
</ul>
<pre>getQuoteFromDB(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, quote</span>) </span>{
    <span class="hljs-comment">// any of quote object in the database  </span>
})
getQuoteFromDB(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, quote</span>) </span>{
    <span class="hljs-comment">// is Kevin Kruse assuming it's the first document in the database</span>
    quote.author;  
}, <span class="hljs-number">0</span>)</pre><h4>db.js</h4>
<h5><code>connect(cb)</code></h5>
<p>Connects to database then call callback passing db.</p>
<h5><code>db()</code></h5>
<p>Returns the instantiated db object.</p>
<h5><code>clearDb(cb)</code></h5>
<p>Clears the database used largely in testing. then call callback.</p>
<h4>API</h4>
<p>The server needs to serve index.html when we visit <code>/index.html</code>, <code>index</code>, or just <code>/</code>. Any other url not supported should return a 404 not found.</p>
<p>The following API route endpoint should exist.</p>
<h5><code>/api/quote</code></h5>
<p>returns a JSON response that was randomly selected from the database</p>
<p>The response should look like this which is basically what you will get from querying the document in mongodb.</p>
<pre>{
    <span class="hljs-attr">&quot;quote&quot;</span>: {
        <span class="hljs-attr">&quot;_id&quot;</span>: <span class="hljs-string">&quot;theobjectidoftherecord&quot;</span>,
        <span class="hljs-attr">&quot;text&quot;</span>: <span class="hljs-string">&quot;Nothing Comes to those who wait&quot;</span>,
        <span class="hljs-attr">&quot;author&quot;</span>: <span class="hljs-string">&quot;Amr Draz&quot;</span>
    }
}</pre><h4><code>/api/quotes</code></h4>
<p>returns a JSON array as response containing all quotes in the database.</p>
<pre>[
    {
        <span class="hljs-string">&quot;quote&quot;</span>: {
            <span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-string">&quot;theobjectidoftherecord&quot;</span>,
            <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;Nothing Comes to those who wait&quot;</span>,
            <span class="hljs-string">&quot;author&quot;</span>: <span class="hljs-string">&quot;Amr Draz&quot;</span>
        }
    },
    ....
]</pre><h3>Front End requirement</h3>
<p>When a user clicks on the page on index.html; a script should send a <code>GET</code> request  to <code>/api/quote</code>, returning a random quote form the database as JSON, which in turn is then used to update the html page.</p>
<h3>Test Requirements</h3>
<p>You need to write tests as well as run a coverage test on your app to know it is working.</p>
<p>We will run our tests against your project as well as your tests against our project, see test file bellow.</p>
<p>We will run the coverage test using the istanbul npm package.</p>
<p>You should achieve a coverage level that looks like this.</p>
<p><img src="./assets/coverage.png" /></p>
<p>You can find this html file in a folder called coverage after you run instanbul.</p>
<h3>Some Hint and Suggestions</h3>
<h4>Strategy</h4>
<p>As a development strategy I encourage you to build the project following the order in the test file bellow.</p>
<p>First without the database and server then think about connecting to the database then do the server then build the front end that connects to it.</p>
<h4>Other Hints</h4>
<ul>
<li><p>You will need to add your dependencies in package.json</p>
</li>
<li><p>For this assignment you will as a minimum use the npm packages</p>
<ul>
<li>mocha - for testing</li>
<li>supertest - for testing the api</li>
<li>chai - for assertion</li>
<li>istanbul - for coverage</li>
<li>express - for managing your api</li>
<li>mongodb - for connecting to the database.</li>
</ul>
</li>
<li><p>You can look up the documentation of each of these modules and how to use them on your own.</p>
</li>
<li><p>You don't need to declare a rout for each resource in express you can simply declare a static file directory to server your public folder.</p>
</li>
</ul>
<blockquote>
<p>The quote test should test all functions in quote.js</p>
</blockquote>
<p>To test the random selection you can assert that the returned quote is included in one of the quotes you can get from getQuotesFromJSON or when testing the db from getQuotesFromDB</p>
<p>You can read a json file using require <code>require('../quotes.js')</code> here I'm assuming quotes.json is one directory up</p>
<p>You will need to clear the database before you run the seed test, you can do this by calling <code>before(db.clearDB)</code> which is provided by us.</p>
<p>This should be your db.js file</p>
<pre><span class="hljs-comment">// db.js</span>
<span class="hljs-keyword">var</span> mongo = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongodb'</span>).MongoClient;
<span class="hljs-keyword">var</span> DB = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> dbURL = <span class="hljs-string">'mongodb://localhost:27017/inspire-me'</span>;

<span class="hljs-comment">/**
 * function that connects to the mongodb instance initialized.
 * @param  {Function} cb callback for when connection is complete
 */</span>
exports.connect = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>) </span>{
    <span class="hljs-comment">// You do this one</span>
};

<span class="hljs-comment">/**
 * used to get access to the db object to query the database
 * throws an error if db not initialized.
 * example use case assuming you required the module as db
 *     db.db().find(.... etc
 * @return {MongoDBObject} 
 */</span>
exports.db = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (DB === <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'DB Object has not yet been initialized'</span>);
    <span class="hljs-keyword">return</span> DB;
};

<span class="hljs-comment">/**
 * clears all collections in the database calling the callback when done
 * @param  {Function} done callback indicating the operation is complete
 */</span>
exports.clearDB = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
    DB.listCollections().toArray().then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">collections</span>) </span>{
        collections.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">c</span>) </span>{
            DB.collection(c.name).removeMany();   
        });
        done();
    }).catch(done);
};</pre><p>This is how your tests/quotes.js should look like</p>
<pre><span class="hljs-comment">// tests/quotes.js</span>

<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).assert;
<span class="hljs-keyword">var</span> app = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../app.js'</span>);
<span class="hljs-keyword">var</span> request = <span class="hljs-built_in">require</span>(<span class="hljs-string">'supertest'</span>);
<span class="hljs-keyword">var</span> Quote = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../quotes.js'</span>);
<span class="hljs-keyword">var</span> db = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../db.js'</span>);

before(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
    <span class="hljs-comment">// use this after you have completed the connect function</span>
    <span class="hljs-comment">// db.connect(function(err, db) {</span>
    <span class="hljs-comment">//    if (err) return done(err);</span>
    <span class="hljs-comment">//    else done();</span>
    <span class="hljs-comment">// });</span>
});

describe(<span class="hljs-string">&quot;getElementByIndexElseRandom&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">43</span>, <span class="hljs-number">5</span>];
    it(<span class="hljs-string">&quot;should return a random element that is included in the array if we omit the index&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// TODO</span>
    });
    it(<span class="hljs-string">&quot;should return the first element if we also pass the index 0&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// TODO</span>
    });
    it(<span class="hljs-string">&quot;should return the last element if we also pass the index&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// TODO</span>
    });
});

describe(<span class="hljs-string">&quot;getQuotesFromJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    it(<span class="hljs-string">&quot;should return an array of 102 quote&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> you know how many quotes are there</span>
    });
    it(<span class="hljs-string">&quot;first quote in the array's author should be Kevin Kruse&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> you know the content of first quote</span>
    });
});

describe(<span class="hljs-string">&quot;getQuoteFromJSON&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    it(<span class="hljs-string">'should return a quote object with an author and text property'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> check that the returned quote has text and author</span>
    });
    it(<span class="hljs-string">'should return a random quote if index not specified'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
       <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> is the returned quote in the all quotes array?</span>
    });
    it(<span class="hljs-string">'should return the first quote if we pass 0'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> you know the content of first quote</span>
    });
});

<span class="hljs-comment">// quotes collection should be called quotes</span>
describe(<span class="hljs-string">'seed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    before(db.clearDB);
    it(<span class="hljs-string">'should populate the db if db is empty returning true'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> assert that seeded is true</span>
    });
    it(<span class="hljs-string">'should have populated the quotes collection with 102 document'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> check that the database contains 102 document</span>
    });
    it(<span class="hljs-string">'should not seed db again if db is not empty returning false in the callback'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> assert that seeded is false</span>
    });
    it(<span class="hljs-string">'should not seed db again if db is not empty'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> The database should have 102 quote still</span>
    });
});

describe(<span class="hljs-string">'getQuotesFromDB'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    it(<span class="hljs-string">'should return all quote documents in the database'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> there should be 102 documents in the db</span>
    });
});

describe(<span class="hljs-string">'getQuoteFromDB'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    it(<span class="hljs-string">'should return a random quote document'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> see if it returns on of the quotes from all quotes</span>
    });
    it(<span class="hljs-string">'should return the first quote if passed 0 after callback'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> you know the content of object in the file</span>
    });
});

describe(<span class="hljs-string">'API'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    request = request(app);
    it(<span class="hljs-string">&quot;should return a 404 for urls that don't exist&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> test with supertest</span>
    });

    it(<span class="hljs-string">'/api/quote should return a quote JSON object with keys [_id, text, author]'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> test with supertest</span>
    });

    it(<span class="hljs-string">'/api/quotes should return an array of JSON object when I visit'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> test with supertest</span>
    });
});</pre><h3>Meta</h3>
<p>The assignment is worth 3% of your project grade
It is individual
Deadline Sunday the 28th of Feb</p>
</div></article></div><footer><div style="box-sizing:border-box;max-width:896px;margin-left:auto;margin-right:auto;margin-bottom:32px;padding-top:8px;padding-bottom:8px;padding-left:32px;padding-right:32px;"><div style="margin-left:-16px;margin-right:-16px;"><a href="https://github.com/ahmedlhanafy/se-assignment" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://github.com/ahmedlhanafy" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">ahmedlhanafy</a></div><div></div></div></footer></div><div style="font-family:-apple-system, sans-serif;font-size:12px;font-weight:600;text-align:right;padding:24px;color:#333;background-color:#eee;"><a href="http://compositor.io" style="color:inherit;text-decoration:none;">Built with Compositor.io</a></div></body></html>